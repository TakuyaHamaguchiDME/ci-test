name: outputs sharing example
on:
  pull_request:
jobs:
  first:
    runs-on: ubuntu-latest
    outputs:
      baz: ${{ steps.foo.outputs.bar }}
    steps:
      - uses: actions/checkout@v3
        with:
          fetch-depth: 0
      - id: foo
        run: echo "::set-output name=bar::$(echo FOO-BAR)"
      - id: test
        run: echo "${{ steps.foo.outputs.bar }}"
  second:
    needs: [first]
    runs-on: ubuntu-latest
    steps:
      - id: test
        if: needs.first.outputs.baz == 'FOO-BAR'
        run: exit 0
      - id: test2
        run: echo 'FALSE'
      - id: target
        run: echo "${{ env.GITHUB_BASE_REF }}"
      - id: from
        run: echo "${{ env.GITHUB_REF_NAME }}"
